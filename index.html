<!DOCTYPE html>
<html>
<head>
    <title>Arcade Claw Master</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: sans-serif; }
        #game-container { position: relative; width: 600px; height: 600px; margin: 20px auto; border: 10px solid #333; }
        /* Using a realistic arcade background */
        #background { width: 100%; height: 100%; background: url('https://images.unsplash.com/photo-1511882150382-421056c89033?q=80&w=600&h=600&auto=format&fit=crop') center/cover; position: absolute; }
        #claw { position: absolute; width: 60px; height: 80px; background: #silver; border: 3px solid #666; top: 0; left: 270px; transition: top 1s ease-in-out; border-radius: 0 0 20px 20px; z-index: 10; }
        .ball { position: absolute; width: 40px; height: 40px; border-radius: 50%; bottom: 80px; box-shadow: inset -5px -5px 10px rgba(0,0,0,0.5); }
        #bucket { position: absolute; bottom: 10px; left: 10px; width: 80px; height: 80px; border: 5px dashed gold; color: gold; text-align: center; line-height: 80px; }
        #controls { text-align: center; color: white; margin-top: 10px; }
        .status { position: absolute; top: 10px; right: 10px; color: #0f0; font-weight: bold; background: rgba(0,0,0,0.7); padding: 10px; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="background"></div>
    <div id="claw"></div>
    <div id="bucket">WIN</div>
    <div class="status" id="stats">Wins: 0 | Attempts: 0</div>
</div>

<div id="controls">
    <p>Use <b>Left/Right Arrows</b> to move claw. Press <b>SPACE</b> to Drop.</p>
    <label>Win Rate: </label>
    <input type="number" id="winRateInput" value="30" style="width: 50px;"> %
</div>

<script>
    const claw = document.getElementById('claw');
    const stats = document.getElementById('stats');
    const winRateInput = document.getElementById('winRateInput');
    let clawX = 270;
    let wins = 0;
    let attempts = 0;
    let isDropping = false;

    // Create 10 balls at random spots
    for(let i=0; i<10; i++) {
        const b = document.createElement('div');
        b.className = 'ball';
        b.style.left = (150 + Math.random() * 300) + 'px';
        b.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 50%)`;
        b.id = 'ball-' + i;
        document.getElementById('game-container').appendChild(b);
    }

    document.addEventListener('keydown', (e) => {
        if(isDropping) return;
        if(e.key === 'ArrowLeft' && clawX > 100) clawX -= 15;
        if(e.key === 'ArrowRight' && clawX < 500) clawX += 15;
        if(e.key === ' ') dropClaw();
        claw.style.left = clawX + 'px';
    });

    function dropClaw() {
        isDropping = true;
        attempts++;
        claw.style.top = "400px";

        setTimeout(() => {
            checkCatch();
            claw.style.top = "0px";
            setTimeout(() => { isDropping = false; }, 1000);
            updateStats();
        }, 1000);
    }

    function checkCatch() {
        const winChance = parseInt(winRateInput.value) / 100;
        const roll = Math.random();

        // Logic: Is the claw over a ball?
        const balls = document.querySelectorAll('.ball');
        balls.forEach(ball => {
            const bx = parseInt(ball.style.left);
            if(Math.abs(bx - clawX) < 30) {
                if(roll < winChance) {
                    // WINNER: Animate ball to bucket
                    ball.style.transition = "all 1s ease-in-out";
                    ball.style.bottom = "500px";
                    ball.style.left = clawX + "px";
                    setTimeout(() => {
                        ball.style.left = "30px";
                        ball.style.bottom = "30px";
                        wins++;
                        updateStats();
                    }, 1000);
                } else {
                    // RIGGED: Claw slips!
                    ball.style.bottom = "100px";
                    setTimeout(() => { ball.style.bottom = "80px"; }, 200)
                    alert("Claw slipped! Try again.");
                }
            }
        });
    }

    function updateStats() {
        stats.innerText = `Wins: ${wins} | Attempts: ${attempts}`;
    }
</script>
</body>
</html>
